↓のhtml5移植版です。

RPG系プログラムで大勢のキャラクタを縦横無尽に歩かせる方法：CodeZine（コードジン）
https://codezine.jp/article/detail/94